<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ReserveGrid OS — SV2 Mining Gateway</title>
  <meta name="description" content="Miner-facing Stratum V2 gateway with Noise NX, template verification, prevhash fail-closed switching, and two-event share lifecycle. 34 reason codes, 51 config keys, 3 deployment modes.">
  <meta name="theme-color" content="#080e1a">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="canonical" href="https://veldra.org/product/">
  <link rel="icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/brand/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/brand/favicon-16.png">
  <link rel="apple-touch-icon" href="/assets/brand/apple-touch-icon.png">

  <meta property="og:title" content="ReserveGrid OS — SV2 Mining Gateway">
  <meta property="og:description" content="Miner-facing Stratum V2 gateway with Noise NX, template verification, prevhash fail-closed switching, and two-event share lifecycle.">
  <meta property="og:url" content="https://veldra.org/product/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://veldra.org/assets/brand/veldra-mark.png">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="stylesheet" href="/assets/style.css?v=16">
  <script src="/assets/script.js?v=16" defer></script>
  <script src="/assets/i18n.js?v=16" defer></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&display=swap" media="print" onload="this.media='all'">
</head>
<body>

  <nav class="topbar">
    <div class="container">
      <div class="nav">
        <a class="brand" href="/" aria-label="Veldra home">
          <img src="/assets/brand/veldra-logo.png" alt="Veldra">
        </a>
        <div class="navlinks">
          <a href="/" data-i18n="nav.home">Home</a>
          <a href="/product/" aria-current="page" data-i18n="nav.product">Product</a>
          <a href="/docs/" data-i18n="nav.docs">Docs</a>
          <a href="/about/" data-i18n="nav.about">About</a>
        </div>
        <div class="nav-actions">
          <div class="lang-toggle">
            <button class="lang-btn active" data-lang="en">EN</button>
            <button class="lang-btn" data-lang="es">ES</button>
            <button class="lang-btn" data-lang="zh">中</button>
          </div>
          <a href="/observe/" class="btn btn-primary btn-sm" data-i18n="nav.observe">Observe</a>
        </div>
        <button class="nav-toggle" aria-label="Menu" aria-expanded="false">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18M3 6h18M3 18h18"/></svg>
        </button>
      </div>
    </div>
  </nav>

  <div class="container"><nav class="breadcrumb" aria-label="Breadcrumb"><a href="/" data-i18n="breadcrumb.home">Home</a><span class="sep">/</span><span class="current" data-i18n="breadcrumb.product">Product</span></nav></div>

  <!-- ── Hero ──────────────────────────────────── -->
  <section class="hero-dark">
    <div class="hero-grid"></div>
    <div class="hero-hex">
      <svg viewBox="0 0 360 360" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M180 30l52 30v60l-52 30-52-30V60z" stroke="rgba(212,148,60,.3)" stroke-width=".5"/>
        <path d="M284 90l52 30v60l-52 30-52-30V120z" stroke="rgba(212,148,60,.2)" stroke-width=".5"/>
        <path d="M76 90l52 30v60l-52 30-52-30V120z" stroke="rgba(212,148,60,.2)" stroke-width=".5"/>
        <path d="M180 150l52 30v60l-52 30-52-30v-60z" stroke="rgba(212,148,60,.35)" stroke-width=".5"/>
        <path d="M284 210l52 30v60l-52 30-52-30v-60z" stroke="rgba(212,148,60,.15)" stroke-width=".5"/>
        <path d="M76 210l52 30v60l-52 30-52-30v-60z" stroke="rgba(212,148,60,.15)" stroke-width=".5"/>
        <path d="M180 270l52 30v60l-52 30-52-30v-60z" stroke="rgba(212,148,60,.2)" stroke-width=".5"/>
        <line x1="180" y1="120" x2="180" y2="150" stroke="rgba(212,148,60,.25)" stroke-width=".5"/>
        <line x1="232" y1="90" x2="232" y2="120" stroke="rgba(212,148,60,.15)" stroke-width=".5"/>
        <line x1="128" y1="90" x2="128" y2="120" stroke="rgba(212,148,60,.15)" stroke-width=".5"/>
        <line x1="180" y1="240" x2="180" y2="270" stroke="rgba(212,148,60,.2)" stroke-width=".5"/>
      </svg>
      <div class="hero-hex-scan"></div>
      <div class="hero-hex-node"></div>
      <div class="hero-hex-node"></div>
      <div class="hero-hex-node"></div>
      <div class="hero-hex-node"></div>
    </div>
    <div class="container">
      <div class="hero-inner fade-up">
        <div class="hero-label">
          <span class="hero-label-dot"></span>
          <span data-i18n="product.hero.label">Product</span>
        </div>
        <h1 class="hero-title" data-i18n="product.hero.title">Confidence through configuration</h1>
        <p class="hero-sub" data-i18n="product.hero.sub">ReserveGrid OS is a policy-driven SV2 gateway. Configure your requirements, deploy your way, observe the results.</p>
        <div class="hero-actions">
          <a href="/docs/" class="btn btn-glow" data-i18n="btn.docs">Read the docs</a>
          <a href="#demo" class="btn btn-outline" data-i18n="product.hero.btn_demo">Watch demo</a>
        </div>
      </div>
    </div>
  </section>

  <hr class="glow-line">

  <!-- ── Feature Accordions ─────────────────────── -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <div class="section-eyebrow" data-i18n="product.features.eyebrow">Features</div>
        <h2 data-i18n="product.features.title">Built for operators</h2>
        <p>Six pillars that make ReserveGrid OS production-ready from day one.</p>
      </div>

      <!-- 1: Explainable rejects -->
      <div class="feature-card fade-up">
        <div class="feature-card-header" aria-expanded="false">
          <div class="feature-card-icon icon-blue">
            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </div>
          <div class="feature-card-text">
            <h3 data-i18n="product.f2.title">34 reason codes</h3>
            <p data-i18n="product.f2.desc">Every rejection is machine-readable. Operators know why work was rejected and under which policy context.</p>
          </div>
          <div class="feature-card-toggle">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
          </div>
        </div>
        <div class="feature-card-body">
          <div class="feature-card-content">
            <div class="detail-grid">
              <dl class="detail-item">
                <dt>Transport</dt>
                <dd>Channel setup, frame parsing, protocol violations (4 codes)</dd>
              </dl>
              <dl class="detail-item">
                <dt>Framing</dt>
                <dd>Message size, frame sequence, encoding issues (7 codes)</dd>
              </dl>
              <dl class="detail-item">
                <dt>Auth</dt>
                <dd>Invalid credentials, worker ID format, allowlist mismatch (3 codes)</dd>
              </dl>
              <dl class="detail-item">
                <dt>Channel</dt>
                <dd>Unknown channel_id, channel not open, subscriber role violation (4 codes)</dd>
              </dl>
              <dl class="detail-item">
                <dt>Job</dt>
                <dd>Invalid job_id, unknown job, stale prevhash reference (5 codes)</dd>
              </dl>
              <dl class="detail-item">
                <dt>Share</dt>
                <dd>Difficulty below target, ntime out of range, duplicate nonce (11 codes)</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>

      <!-- 2: Two-event share lifecycle -->
      <div class="feature-card fade-up fade-up-d1">
        <div class="feature-card-header" aria-expanded="false">
          <div class="feature-card-icon icon-green">
            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
          </div>
          <div class="feature-card-text">
            <h3 data-i18n="product.f4.title">Two-event lifecycle</h3>
            <p data-i18n="product.f4.desc">share_accepted at ACK time, share_forward_result after upstream POST. Joined by share_id with 1:1 invariant.</p>
          </div>
          <div class="feature-card-toggle">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
          </div>
        </div>
        <div class="feature-card-body">
          <div class="feature-card-content">
            <div class="detail-grid">
              <dl class="detail-item">
                <dt>Event 1: share_accepted</dt>
                <dd>share_id, event_id, timestamp, miner_id, job_id, reason_code, sv2_response</dd>
              </dl>
              <dl class="detail-item">
                <dt>Event 2: share_forward_result</dt>
                <dd>share_id, event_id, timestamp, forwarded, upstream_accepted, upstream_http_status, error_detail</dd>
              </dl>
              <dl class="detail-item">
                <dt>Join key</dt>
                <dd>Both events carry the same share_id for 1:1 correlation. The adapter blocks on channel capacity rather than dropping.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Invariant</dt>
                <dd>Every share_accepted with sv2_response = "success" produces exactly one share_forward_result.</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>

      <!-- 3: Three deployment modes -->
      <div class="feature-card fade-up fade-up-d2">
        <div class="feature-card-header" aria-expanded="false">
          <div class="feature-card-icon icon-cyan">
            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zm0 8a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zm10 0a1 1 0 011-1h4a1 1 0 011 1v6a1 1 0 01-1 1h-4a1 1 0 01-1-1v-6z"/></svg>
          </div>
          <div class="feature-card-text">
            <h3 data-i18n="product.modes.title">Three ways to deploy</h3>
            <p>shadow / observe / inline. Start with audit, graduate to enforcement without code changes.</p>
          </div>
          <div class="feature-card-toggle">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
          </div>
        </div>
        <div class="feature-card-body">
          <div class="feature-card-content">
            <div class="detail-grid">
              <dl class="detail-item">
                <dt>Shadow</dt>
                <dd>Templates verified internally, results logged, no miner impact. Zero risk audit mode.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Observe</dt>
                <dd>Miners connected, all templates pass, rejections logged but not enforced. Full share lifecycle active.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Inline</dt>
                <dd>Full enforcement. No unverified job reaches a miner. Prevhash switching is fail-closed.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Migration</dt>
                <dd>Switch modes by changing one TOML key. No binary rebuild, no schema change, no downtime.</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>

      <!-- 4: Prevhash fail-closed -->
      <div class="feature-card fade-up fade-up-d3">
        <div class="feature-card-header" aria-expanded="false">
          <div class="feature-card-icon icon-amber">
            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
          </div>
          <div class="feature-card-text">
            <h3 data-i18n="product.f3.title">Fail-closed prevhash</h3>
            <p data-i18n="product.f3.desc">50ms verdict timeout. 5s stale work hold. Miners disconnected deterministically on expiry.</p>
          </div>
          <div class="feature-card-toggle">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
          </div>
        </div>
        <div class="feature-card-body">
          <div class="feature-card-content">
            <div class="detail-grid">
              <dl class="detail-item">
                <dt>Happy path</dt>
                <dd>Verdict arrives within 50ms. New prevhash + job broadcast immediately. Target: p50 &lt; 50ms, p95 &lt; 150ms, p99 &lt; 300ms.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Timeout path</dt>
                <dd>No verdict within 50ms. Miners hold stale job for up to 5s. After 5s, deterministic disconnect with prevhash_switch_timeout.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Risk model</dt>
                <dd>Zero stale work distributed. Gateway blocks on miner demand rather than dropping shares.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Escape hatch</dt>
                <dd>VELDRA_ALLOW_NO_SHARE_UPSTREAM_READY_INLINE relaxes upstream-ready check if needed during initial deploy.</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>

      <!-- 5: 51-key config surface -->
      <div class="feature-card fade-up fade-up-d4">
        <div class="feature-card-header" aria-expanded="false">
          <div class="feature-card-icon icon-purple">
            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.573-1.066z"/><circle cx="12" cy="12" r="3"/></svg>
          </div>
          <div class="feature-card-text">
            <h3 data-i18n="product.config.title">51 TOML keys, zero magic</h3>
            <p data-i18n="product.config.intro">ReserveGrid OS is configured via TOML with environment variable overrides. No defaults hide pool behavior.</p>
          </div>
          <div class="feature-card-toggle">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
          </div>
        </div>
        <div class="feature-card-body">
          <div class="feature-card-content">
            <div class="detail-grid">
              <dl class="detail-item">
                <dt>Core</dt>
                <dd>mode, listen_addr, verifier_addr, upstream_url, upstream_failure_policy, http_api_key</dd>
              </dl>
              <dl class="detail-item">
                <dt>Noise</dt>
                <dd>privkey, pubkey, authorized_keys, handshake_timeout_ms</dd>
              </dl>
              <dl class="detail-item">
                <dt>Timing</dt>
                <dd>prevhash_verdict_timeout_ms, prevhash_stale_hold_ms, upstream_poll_interval_ms, job_broadcast_interval_ms</dd>
              </dl>
              <dl class="detail-item">
                <dt>Share</dt>
                <dd>share_upstream_url, share_upstream_secret, share_forward_queue_size, share_forward_max_in_flight</dd>
              </dl>
              <dl class="detail-item">
                <dt>Auth</dt>
                <dd>mode (allowlist/prefix_map/open), allowlist, prefix_map, max_worker_id_bytes, max_workers_per_channel</dd>
              </dl>
              <dl class="detail-item">
                <dt>Escape hatches</dt>
                <dd>6 VELDRA_ env vars for relaxing constraints during development and initial deployment</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>

      <!-- 6: Live observability -->
      <div class="feature-card fade-up fade-up-d4">
        <div class="feature-card-header" aria-expanded="false">
          <div class="feature-card-icon icon-blue">
            <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
          </div>
          <div class="feature-card-text">
            <h3 data-i18n="product.f6.title">Observability</h3>
            <p data-i18n="product.f6.desc">Prometheus metrics, structured event logs, and Grafana dashboards. See every decision in real time.</p>
          </div>
          <div class="feature-card-toggle">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
          </div>
        </div>
        <div class="feature-card-body">
          <div class="feature-card-content">
            <div class="detail-grid">
              <dl class="detail-item">
                <dt>Prometheus</dt>
                <dd>/metrics on HTTP API. 30+ metrics covering connections, jobs, shares, verdicts, prevhash latencies.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Event stream</dt>
                <dd>/gateway/events NDJSON endpoint. Real-time share_accepted, share_forward_result, template_verdict events.</dd>
              </dl>
              <dl class="detail-item">
                <dt>CSV export</dt>
                <dd>Share history export via HTTP API. Bulk analysis, compliance audits, performance reporting.</dd>
              </dl>
              <dl class="detail-item">
                <dt>Grafana dashboards</dt>
                <dd>Pre-built dashboards for miner connections, job distribution, prevhash switching health, upstream responsiveness.</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- ── Mode Comparison ──────────────────────── -->
  <section class="section section-alt">
    <div class="container">
      <div class="section-header">
        <div class="section-eyebrow" data-i18n="product.modes.eyebrow">Deployment modes</div>
        <h2 data-i18n="product.modes.title">Three ways to deploy</h2>
      </div>
      <div class="grid-3 fade-up">
        <div class="mode-card mode-shadow">
          <h3 data-i18n="product.modes.shadow.title">Shadow Mode</h3>
          <p data-i18n="product.modes.shadow.desc">Audit templates without blocking miners</p>
          <dl class="mode-card-detail">
            <dt>Gates templates</dt>
            <dd>No</dd>
            <dt>Prevhash fail-closed</dt>
            <dd>N/A</dd>
            <dt>Share forwarding</dt>
            <dd>No</dd>
            <dt>Config required</dt>
            <dd>verifier_addr, policy context</dd>
            <dt>Risk</dt>
            <dd>Zero (no miner impact)</dd>
          </dl>
        </div>
        <div class="mode-card mode-observe">
          <h3 data-i18n="product.modes.observe.title">Observe Mode</h3>
          <p data-i18n="product.modes.observe.desc">Log verdicts, forward all shares upstream</p>
          <dl class="mode-card-detail">
            <dt>Gates templates</dt>
            <dd>No</dd>
            <dt>Prevhash fail-closed</dt>
            <dd>N/A</dd>
            <dt>Share forwarding</dt>
            <dd>Yes</dd>
            <dt>Config required</dt>
            <dd>listen_addr, upstream_url, share_upstream_url, verifier_addr</dd>
            <dt>Risk</dt>
            <dd>Low (unverified templates may reach miners)</dd>
          </dl>
        </div>
        <div class="mode-card mode-inline">
          <h3 data-i18n="product.modes.inline.title">Inline Mode</h3>
          <p data-i18n="product.modes.inline.desc">Enforce policy with fail-closed safety</p>
          <dl class="mode-card-detail">
            <dt>Gates templates</dt>
            <dd>Yes</dd>
            <dt>Prevhash fail-closed</dt>
            <dd>Yes (50ms timeout + 5s hold)</dd>
            <dt>Share forwarding</dt>
            <dd>Yes</dd>
            <dt>Config required</dt>
            <dd>All keys, especially timing, gates, and disconnect policy</dd>
            <dt>Risk</dt>
            <dd>Production (fail-closed protects integrity)</dd>
          </dl>
        </div>
      </div>
    </div>
  </section>

  <!-- ── Config Reference ──────────────────────── -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <div class="section-eyebrow" data-i18n="product.config.eyebrow">Configuration</div>
        <h2 data-i18n="product.config.title">51 TOML keys, zero magic</h2>
        <p data-i18n="product.config.intro">ReserveGrid OS is configured via TOML with environment variable overrides. No defaults hide pool behavior.</p>
      </div>
      <div class="tab-group fade-up">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="config-core" data-i18n="product.config.tabs.gateway">Gateway</button>
          <button class="tab-btn" data-tab="config-timing" data-i18n="product.config.tabs.verifier">Verifier</button>
          <button class="tab-btn" data-tab="config-share" data-i18n="product.config.tabs.poller">Poller</button>
          <button class="tab-btn" data-tab="config-auth" data-i18n="product.config.tabs.metrics">Metrics</button>
        </div>

        <div class="tab-content active" data-tab="config-core">
          <div class="code-panel" data-lang="toml">
            <button class="copy-btn">Copy</button>
<pre>[gateway]
mode = "inline"                          # shadow, observe, or inline
listen_addr = "0.0.0.0:3333"             # Miner connection address
verifier_addr = "127.0.0.1:5001"         # pool-verifier TCP address
upstream_url = "http://bitcoind:8332"    # Block template source
upstream_failure_policy = "fail_closed"  # fail_closed or permit_all
http_api_key = "your-secret-here"        # Authentication for metrics/events</pre>
          </div>
        </div>

        <div class="tab-content" data-tab="config-timing">
          <div class="code-panel" data-lang="toml">
            <button class="copy-btn">Copy</button>
<pre>[timing]
# Prevhash switching
prevhash_verdict_timeout_ms = 50         # Wait time for verdict before timeout
prevhash_stale_hold_ms = 5000            # Hold stale job after timeout

# Polling and broadcast
upstream_poll_interval_ms = 1000         # Check for new templates every 1s
job_broadcast_interval_ms = 100          # Aggregate job broadcasts

# Message timeouts
channel_idle_timeout_ms = 3600000        # Close idle channels after 1 hour
nonce_expire_secs = 60                   # Expire old nonces from dedup filter</pre>
          </div>
        </div>

        <div class="tab-content" data-tab="config-share">
          <div class="code-panel" data-lang="toml">
            <button class="copy-btn">Copy</button>
<pre>[share]
share_upstream_url = "http://pool-backend:9090/shares"
share_upstream_secret = "hmac-key-here"  # HMAC-SHA256 signing key
share_forward_queue_size = 10000         # Max pending shares in queue
share_forward_max_in_flight = 100        # Max concurrent upstream requests
share_batch_interval_ms = 100            # Batch shares before sending
share_forward_timeout_ms = 5000          # Upstream request timeout</pre>
          </div>
        </div>

        <div class="tab-content" data-tab="config-auth">
          <div class="code-panel" data-lang="toml">
            <button class="copy-btn">Copy</button>
<pre>[auth]
mode = "prefix_map"                      # allowlist, prefix_map, or open

# Allowlist mode: explicit list of authorized credentials
allowlist = [
  { username = "miner1", password = "secret1" },
  { username = "miner2", password = "secret2" }
]

# Prefix map mode: pattern-based authorization
prefix_map = [
  { prefix = "farm1_", secret = "farm1-key" },
  { prefix = "farm2_", secret = "farm2-key" }
]

max_worker_id_bytes = 512                # Limit worker_name field length
max_workers_per_channel = 1000           # Limit concurrent workers per channel</pre>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ── Security Boundaries ──────────────────── -->
  <section class="section section-alt">
    <div class="container">
      <div class="section-header">
        <div class="section-eyebrow" data-i18n="product.security.eyebrow">Security</div>
        <h2 data-i18n="product.security.title">Operator first</h2>
      </div>
      <div class="grid-3 fade-up">
        <div class="card">
          <div class="card-icon card-icon-green">
            <svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </div>
          <h3 data-i18n="product.security.c1.title">Encrypted transport</h3>
          <p data-i18n="product.security.c1.desc">Noise NX with fixed keys. No certificate infrastructure, no external dependencies.</p>
        </div>
        <div class="card">
          <div class="card-icon card-icon-navy">
            <svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 9v4m0 4h.01M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/></svg>
          </div>
          <h3 data-i18n="product.security.c2.title">Fail-closed logic</h3>
          <p data-i18n="product.security.c2.desc">Timeouts are deterministic. Stale work is held. Invalid templates trigger rejections with reason codes.</p>
        </div>
        <div class="card">
          <div class="card-icon card-icon-blue">
            <svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
          </div>
          <h3 data-i18n="product.security.c3.title">Auditability</h3>
          <p data-i18n="product.security.c3.desc">Every event is logged with context. Operators can reconstruct decisions offline.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ── Demo ──────────────────────────────────── -->
  <section class="section" id="demo">
    <div class="container">
      <div class="section-header">
        <div class="section-eyebrow" data-i18n="product.demo.eyebrow">Demo</div>
        <h2 data-i18n="product.demo.title">Try it now</h2>
      </div>
      <div class="video-wrap fade-up">
        <iframe
          width="100%"
          height="600"
          src="https://www.youtube.com/embed/lDIIl7Oe73Y"
          title="ReserveGrid OS Demo"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen>
        </iframe>
      </div>
      <div class="callout callout-blue mt-6 fade-up" style="text-align:center;">
        <strong data-i18n="product.demo.desc">Experience ReserveGrid OS in observe mode with a live SV2 testnet.</strong> Try observe mode first. It requires the same configuration but logs all verdicts without gating. No production impact, full visibility.
      </div>
    </div>
  </section>

  <!-- ── CTA ─────────────────────────────────── -->
  <section class="section">
    <div class="container">
      <div class="card-glow fade-up">
        <div class="section-eyebrow" style="position:relative;z-index:1;" data-i18n="cta.get_started">Get started</div>
        <h2 style="color:var(--ink);margin:12px 0 8px;font-size:32px;font-weight:800;position:relative;z-index:1;" data-i18n="cta.ready">Ready to deploy SV2 with confidence?</h2>
        <p style="color:var(--ink-muted);max-width:540px;margin:0 auto 28px;position:relative;z-index:1;" data-i18n="cta.sub">Shadow mode costs nothing. Observe mode builds trust. Inline mode protects revenue.</p>
        <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;position:relative;z-index:1;">
          <a href="/docs/" class="btn btn-glow" data-i18n="btn.docs">Read the docs</a>
          <a href="/observe/" class="btn btn-outline" data-i18n="nav.observe">Observe</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ── Footer ──────────────────────────────── -->
  <footer class="footer">
    <div class="container">
      <div class="footer-inner">
        <div class="footer-brand">
          <img src="/assets/brand/veldra-logo.png" alt="Veldra">
          <p data-i18n="footer.tagline">SV2 mining gateway infrastructure for production pool operators.</p>
        </div>
        <div>
          <h4 data-i18n="footer.h_product">Product</h4>
          <div class="footer-links">
            <a href="/product/" data-i18n="footer.reservegrid">ReserveGrid OS</a>
            <a href="/product/#demo" data-i18n="footer.demo">Demo</a>
            <a href="/observe/" data-i18n="footer.observe_mode">Observe Mode</a>
          </div>
        </div>
        <div>
          <h4 data-i18n="footer.h_resources">Resources</h4>
          <div class="footer-links">
            <a href="/docs/" data-i18n="footer.documentation">Documentation</a>
            <a href="/docs/#reason-codes" data-i18n="footer.reason_codes">Reason Codes</a>
            <a href="/docs/#config" data-i18n="footer.configuration">Configuration</a>
          </div>
        </div>
        <div>
          <h4 data-i18n="footer.h_company">Company</h4>
          <div class="footer-links">
            <a href="/about/" data-i18n="footer.about">About</a>
            <a href="mailto:jarrondeng@veldra.org" data-i18n="footer.contact">Contact</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <span data-i18n="footer.copyright">&copy; 2026 Veldra, Inc.</span>
        <div class="footer-legal">
          <a href="/privacy/" data-i18n="footer.privacy">Privacy</a>
          <a href="/terms/" data-i18n="footer.terms">Terms</a>
          <a href="/disclaimer/" data-i18n="footer.disclaimer">Disclaimer</a>
        </div>
      </div>
    </div>
  </footer>

  <button class="scroll-top" aria-label="Scroll to top">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M18 15l-6-6-6 6"/></svg>
  </button>
</body>
</html>
